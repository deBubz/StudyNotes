<!DOCTYPE html>
<html>
<head>
<title>partC.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
	font-size: 14px;
	padding: 0 12px;
	line-height: 22px;
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}


body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	color: #4080D0;
	text-decoration: none;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
	font-size: inherit;
	line-height: auto;
}

a:hover {
	color: #4080D0;
	text-decoration: underline;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left: 5px solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 14px;
	line-height: 19px;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

.mac code {
	font-size: 12px;
	line-height: 18px;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

/** Theming */

.vscode-light,
.vscode-light pre code {
	color: rgb(30, 30, 30);
}

.vscode-dark,
.vscode-dark pre code {
	color: #DDD;
}

.vscode-high-contrast,
.vscode-high-contrast pre code {
	color: white;
}

.vscode-light code {
	color: #A31515;
}

.vscode-dark code {
	color: #D7BA7D;
}

.vscode-light pre:not(.hljs),
.vscode-light code > div {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre:not(.hljs),
.vscode-dark code > div {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre:not(.hljs),
.vscode-high-contrast code > div {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

.vscode-light blockquote,
.vscode-dark blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.vscode-high-contrast blockquote {
	background: transparent;
	border-color: #fff;
}
</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family:  "Meiryo", "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

</head>
<body>
<h1 id="part-c-logical-design">Part C Logical Design</h1>
<h2 id="schema-conversion-and-normlisation">Schema Conversion and Normlisation</h2>
<h2 id="notes">NOTES</h2>
<ol start="2">
<li>Logical Design/ Normalisation
<ol>
<li>ID and list Functional FD and state which fd is determined based on which BR/Forms of your case study.
<ul>
<li>Use the format <code>X -&gt; Y</code></li>
<li><code>Determinant -&gt; Dependent</code></li>
</ul>
</li>
<li>Use FD to determine highes normal form for each table/relation in previous part.
<ul>
<li>Also Justify your choice</li>
<li>Normalise all table till they are BCNF</li>
<li>Document each detail of the nomalzation(or 3rd?)</li>
</ul>
</li>
</ol>
</li>
<li>Structure
<ol>
<li>Revised BR and Assumption</li>
<li>List of FD related to each BR</li>
<li>Normalisation</li>
</ol>
</li>
</ol>
<p><strong>NOTE</strong> Normalization step by step</p>
<hr>
<h2 id="revised-business-rules-and-assumption">Revised Business Rules and Assumption</h2>
<ol>
<li><strong>User BR</strong>
<ul>
<li><em>1.1</em> Each User should be able to store multiple delivery address in their account.</li>
<li><em>1.2</em> Each User should be able to store multiple payment methods in their account wether its a paypal account or through a creditcard.</li>
<li><em>1.3</em> Each users will need to have a Unique Email, but for security and privacy reasons an auto generated UniqueID will be used to identify each users instead of the emails.</li>
<li><em>1.4</em> When signing up, users will only be asked to enter an email, their name and set up a password for the account.</li>
<li><em>1.5</em> When signing up, If the email already exist in the database, the user will be prompt to sign in with a matching password for the account</li>
<li><em>1.6</em> Users could become delivery driver if they want to.</li>
<li><em>1.7</em> Current Users can refer the Deliveroo service to their friends and families to get a reference discounts on the service.</li>
</ul>
</li>
<li><strong>Restaurants BR</strong>
<ul>
<li><em>2.1</em> The list of restaurants a user could order from is based on the distance</li>
<li><em>2.2</em> The list of restaurants should be able to be filtered by cuisine type</li>
</ul>
</li>
<li><strong>Menu BR</strong>
<ul>
<li><em>3.1</em> Each restaurants are able to offer multiple different meals and the meals are speparated into different categories set by the restaurant owner.</li>
<li><em>3.2</em> users should be able to customise their meals with different options(size, extra toppings) if they wish to.</li>
</ul>
</li>
<li><strong>Ordering BR</strong>
<ul>
<li><em>4.1</em> For logistics reasons and to keep delivery cost low, each order should only contain meals from 1 restaurant.
-* 4.2* Users should be able to order multiple different meals per order.</li>
<li><em>4.3</em> users should be able to view and edit details such as delivery address and payment method before confirming the order.</li>
<li><em>4.4</em> If a user did not provide a delivery address/ payment method before ordering, they will be promt to provide them before checking out.</li>
<li><em>4.5</em> users should be able to add promotional code for discounts for their order.</li>
<li><em>4.6</em> Each order can not have more than one promo code applied.</li>
</ul>
</li>
</ol>
<h2 id="revised-erd-15m">Revised ERD <strong>1.5m</strong></h2>
<ul>
<li>Here is the new and revises design of the Entity Relation Diagram. Also included below is the list of changes since the previous report.</li>
</ul>
<p><img src="file:///home/bubz/GitRepo/StudyNotes/Uni/y1s2/DBFundamentals/a1/deliveroo/c_erd.png" alt="ERD"></p>
<p>ChangeNotes:</p>
<ul>
<li>Changed the naming format of attributes.</li>
<li>Added a 1 mandatory : 1 optional <strong>Unary</strong> realationship for the User. This is to fit the reviesd BR
will need to nique Email, but for security and privacy reasons an auto generated UniqueID will be used to identify each users instead of the emails.
<ul>
<li><code>UserID → UserEmail</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>Current Users can refer the Deliveroo service to their friends and families to get a reference discounts on the service</p>
</blockquote>
<h2 id="relation-4m">Relation <strong>4m</strong></h2>
<p>This section contain the converted relation from entities in the ERD.</p>
<h3 id="customer">Customer</h3>
<p><strong>User</strong></p>
<blockquote>
<p><strong>USER</strong>(<u>UserID</u>, UserFName, UserLName, UserEmail, UserPassword, RefereeID*)</p>
<p>FK(RefereeID) references USER</p>
</blockquote>
<p><strong>Address</strong></p>
<blockquote>
<p><strong>ADDRESS</strong>(<u>AddressID, UserID*</u>, AddrNo, AddrStreetName, AddrCity, AddrPostCode, AddrState)</p>
<p>FK (UserID) references User</p>
</blockquote>
<p><strong>Payment</strong></p>
<blockquote>
<p><strong>PAYMENT</strong>(<u>PaymentID, UserID*</u>)</p>
<p>FK (UserID) references USER</p>
</blockquote>
<p><strong>Creditcard</strong> (subtype of Payment)</p>
<blockquote>
<p><strong>CREDITCARD</strong>(<u> PaymentID, UserID*</u>, CardNum, CardHolderName, CardExp, CardSecCode)</p>
<p>FK (UserID) references USER</p>
</blockquote>
<p><strong>Paypal</strong></p>
<blockquote>
<p><strong>PAYPAL</strong>(<u>PaymentID, UserID*</u>, PaypalAcc, PaypalToken)</p>
<p>FK (UserID) references User</p>
</blockquote>
<h3 id="restaurant-section">Restaurant Section</h3>
<p><strong>Restaurant</strong></p>
<blockquote>
<p>RESTAURANT(<u>RestaurantID</u>, RtrCusineType, RtrAddrNumber, RtrStreetName, RtrPost, RtrCity, RtrState, RtrOwnerFname, RtrOwnerLName, RtrContactNo)</p>
</blockquote>
<p><strong>Meal</strong></p>
<blockquote>
<p><strong>MEAL</strong> (<u> MealID, RestaurantID*</u>, MealName, MealPrice, MealImage, CategoryID*)</p>
<p>FK (RestaurantID) references RESTAURANT</p>
<p>FK (CategoryID) references MEALCATEGORY</p>
</blockquote>
<p><strong>MealCategory</strong></p>
<blockquote>
<p><strong>MealCategory</strong> (<u>CategoryID</u>, CategoryName)</p>
</blockquote>
<p><strong>Option</strong></p>
<blockquote>
<p><strong>OPTION</strong> (<u>OptionID</u>, OptionName, OptionDesc, OptionPrice)</p>
</blockquote>
<p><strong>Order-Meal</strong></p>
<blockquote>
<p><strong>ORDERMEAL</strong> (<u>OrderID*, MealID* ,ReastaurantID*</u>, Quantity)</p>
<p>FK (OrderID) references ORDER</p>
<p>FK (MealID) references MEAL</p>
<p>FK (RestaurantID) references RESTAURANT</p>
</blockquote>
<p><strong>Meal-Option</strong></p>
<blockquote>
<p><strong>MEALOPTION</strong> (<u>OrderID*, MealID* ,OptionID</u>)</p>
<p>FK (OrderID) references ORDER</p>
<p>FK (MealID) references MEAL</p>
<p>FK (OptionID) references OPTION</p>
</blockquote>
<h3 id="order-section">Order Section</h3>
<p><strong>Order</strong></p>
<blockquote>
<p>ORDER (<u>OrderID, RestaurantID*, UserID*</u>, OrderDate, OrderTime, AddressID*, PaymentID*)</p>
<p>FK (RestaurantID) references RESTAURANT</p>
<p>FK (UserID) references USER</p>
<p>FK (AddressID) references ADDRESS</p>
<p>FK (PaymentID) references PAYMENT</p>
</blockquote>
<p><strong>Delivery</strong></p>
<blockquote>
<p><strong>DELIVERY</strong> (<u>OrderID*, DriverID*</u>, PickupTime, DeliveryTime)</p>
<p>FK (OrderID) references ORDER</p>
<p>FK (DriverID) references USER</p>
</blockquote>
<p><strong>Promotion</strong></p>
<blockquote>
<p><strong>PROMOTION</strong> (<u>PromotionID</u>, PromoCode, PromoStartDate, PromoEndDate, DiscAmount, DiscType).</p>
</blockquote>
<h2 id="list-of-functional-dependancies-related-to-br">List of Functional Dependancies related to BR</h2>
<ol>
<li><strong>User BR</strong>
<ul>
<li><em>1.1</em> Each User should be able to store multiple delivery address in their account.
<ul>
<li><code>UserID → AddressID(Address attributes)</code></li>
</ul>
</li>
<li><em>1.2</em> Each User should be able to store multiple payment methods in their account wether its a paypal account or through a creditcard.
<ul>
<li><code>UserID → PaymentID(Payment attributes)</code></li>
</ul>
</li>
<li><em>1.3</em> Each users will need to nique Email, but for security and privacy reasons an auto generated UniqueID will be used to identify each users instead of the emails.
<ul>
<li><code>UserID → UserEmail</code></li>
</ul>
</li>
<li><em>1.4</em> When signing up, users will only be asked to enter an email, their name and set up a password for the account.
<ul>
<li><code>UserID → UserEmail, UserPassword, UserFName, UserLName</code></li>
</ul>
</li>
<li><em>1.5</em> When signing up, If the email already exist in the database, the user will be prompt to sign in with a matching password for the account</li>
<li><em>1.6</em> Users could become delivery driver if they want to.</li>
<li><em>1.7</em> Current Users can refer the Deliveroo service to their friends and families to get a reference discounts on the service.</li>
</ul>
</li>
<li><strong>Restaurants BR</strong>
<ul>
<li><em>2.1</em> The list of restaurants a user could order from is based on the distance
<ul>
<li><code>RestaurantID → RtrAddrNo, RtrAddrStreet, RtrAddrCity, RtrAddrPost, RtrAddrState</code></li>
</ul>
</li>
<li><em>2.2</em> The list of restaurants should be able to be filtered by cuisine type
<ul>
<li><code>RestaurantID → RtrCusineType</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>Menu BR</strong>
<ul>
<li><em>3.1</em> Each restaurants are able to offer multiple different meals and the meals are speparated into different categories set by the restaurant owner.
<ul>
<li><code>RestaurantID → MealID</code></li>
<li><code>RestaurantID, MealID → MealName, MealDesc, MealPrice</code></li>
</ul>
</li>
<li><em>3.2</em> users should be able to customise their meals with different options(size, extra toppings) if they wish to.
<ul>
<li><code>OptionID → OptionName, OptionDesc, OptionPrice</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>Ordering BR</strong>
<ul>
<li><em>4.1</em> For logistics reasons and to keep delivery cost low, each order should only contain meals from 1 restaurant.
<ul>
<li><code>OrderID, RestaurantID → MealID</code>
-* 4.2* Users should be able to order multiple different meals per order.</li>
<li><code>OrderID, UserID, RestaurantID → MealID, RestaurantID</code></li>
</ul>
</li>
<li><em>4.3</em> users should be able to view and edit details such as delivery address and payment method before confirming the order.
<ul>
<li><code>UserID, OrderID → AddressID(Address attributes), PaymentID(Payment attributes)</code></li>
</ul>
</li>
<li><em>4.4</em> If a user did not provide a delivery address/ payment method before ordering, they will be promt to provide them before checking out.</li>
<li><em>4.5</em> users should be able to add promotional code for discounts for their order.
<ul>
<li><code>UserID, OrderID → PromotionID(Promo code attributes)</code></li>
</ul>
</li>
<li><em>4.6</em> Each order can not have more than one promo code applied.</li>
</ul>
</li>
</ol>
<h2 id="normalisation">Normalisation</h2>
<p>This section will show the step by step to normalise the each FD from the previous section to achieve at least +3 Normalization Form</p>
<h3 id="step-by-step">Step by Step</h3>
<ul>
<li>See Normalization step by step doc</li>
<li></li>
</ul>
<h2 id="reflection">Reflection</h2>
<ul>
<li><strong>What did you already know about the content and skills that were presented in this lecture?</strong>
<ul>
<li>I was shown how to design an ERD and work with &quot;SeeQUel&quot;(Specificly SQLServer) in TAFE through their programming/ software dev course. So I would say about 70% of the coursework.</li>
<li>TAFE shown me how to a secure DB(atleast against injections) and intergrated it with a MVC webapp. The final project is to build a functional e-commerce site with APIs to get/generate data from the db.</li>
<li>This is not a complaint as I understand that this course was made to introduce Db to first year students.</li>
</ul>
</li>
<li><strong>What did you learn about the content or skills that were presented in this class?</strong>
<ul>
<li>Using Normalization as an extra step of verifying your db design. Even though it wasnt shown very well ( not the fault of the lecturer and tutor) due to the structure of the course.</li>
<li>It took me a while to understand that this is not a following process after completing the ERD but an alternative method of db design process or a verification method for the existing ERD design.</li>
</ul>
</li>
<li><strong>How did doing the assignment change your understanding about this subject?</strong>
<ul>
<li>Not much, I would say that this assessment only provided  more much needed practice for normalization and ERD design.</li>
<li>Beside that, the assessment shown me the importance of constantly reviewing your design to gradually improve and build it to satisfy given requirements.</li>
</ul>
</li>
<li><strong>What connections have you made between this subject and other subjects you have taken?</strong>
<ul>
<li>Not much aside from other subjects such as BRM also using Db in the coursework.</li>
<li>This is only my second semester at and so far, I dont think UTS intergrates related subjects very well. e.g big difference in the notation used in BRM and DBFun.</li>
</ul>
</li>
<li><strong>What do you suggest for your further improvements in this subject?</strong>
<ul>
<li>A more math like approach, using different smaller bite size usecase to actually apply and practice what is taught in class (building ERD, normalization).</li>
<li>Don't just stick with one case study, have several examples for students to practice the processes of normalisation.</li>
<li>I understand using the same Hospital use case is to simulate how DB are developed in the real world, but it is very difficult to understand the process if its not applied to different scenarios, They do not need to be big and intricate use case like the Hospital to achieve this</li>
<li>I perfer the approach similar to how the SQL tutes are carried out, build queries to get certain data.</li>
</ul>
</li>
</ul>

</body>
</html>
