self.System=self.System||(()=>{const e={},t={},s=e=>e.replace(/^.\/(\w+)-[a-f0-9]{8,}.js$/,"./$1.js"),n=window.customElements?Promise.resolve():new Promise((e,t)=>{const s=document.getElementById("js-conditional-compat");if(!(s instanceof HTMLScriptElement))return t(new Error("unable to load compat.js"));const n=setTimeout(()=>{t(new Error("timed out loading compat.js"))},1e4);s.onload=()=>{clearTimeout(n),e()},s.onerror=()=>{clearTimeout(n),t(new Error("network error loading compat.js"))},s.src=s.getAttribute("data-src")||"",s.removeAttribute("data-src")}),o={register(a,r){const c=s(`./${((document.currentScript||{}).src||"").split("?").shift().split("/").pop()}`),i={},l=r((e,t)=>t?i[e]=t:Object.assign(i,e),o),d=a.map((e,t)=>o.import(s(e)).then(l.setters[t]));d.unshift(n),e[c]=Promise.all(d).then(()=>(l.execute(),i)).catch(e=>{throw e.message=`evaluating module ${c}: ${e.message}`,e}),t[c]&&(t[c](e[c]),delete t[c])},import:s=>e[s]||(e[s]=new Promise((e,n)=>{const o=setTimeout(()=>{n(new Error(`could not resolve ${s}`))},1e4);t[s]=t=>{clearTimeout(o),e(t)}}))};return o})(),System.register(["./frameworks.js","./vendor.js"],(function(){"use strict";var e,t,s,n,o,a,r,c,i,l,d,u,m,f,g,p,j,h,b,y,L,w,v,k,T;return{setters:[function(v){e=v.c,t=v.q,s=v.g,n=v.a,o=v.h,a=v.a9,r=v.j,c=v.e,i=v.k,l=v.aq,d=v.r,u=v.d,m=v.M,f=v.as,g=v.P,p=v.aW,j=v.bd,h=v.aD,b=v.G,y=v.b,L=v.aY,w=v.D},function(e){v=e.o,k=e.a,T=e.d}],execute:function(){function E(e,t){const s=new URLSearchParams(window.location.search);s.set(e,t);const n=new URL(window.location.href,window.location.origin);n.search=s.toString(),o(a(),"",n.toString())}function M(e,t){for(const s of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))s.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}async function H(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let s;try{s=await u(document,t),e.innerHTML="",e.append(s)}catch(n){window.location.reload()}}function S(e,s){const n=t(s,".js-repo-access-error");n.textContent=e,n.classList.remove("d-none")}function q(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}function A(e){const s=e.querySelectorAll(".js-repo-access-entry").length;e.classList.toggle("is-empty",0===s);const n=e.querySelector(".js-collab-limit");if(n){const o=parseInt(n.getAttribute("data-collab-limit")||"",10),a=t(e,".js-over-limit",HTMLElement),r=t(e,".js-under-limit",HTMLElement);a.classList.toggle("d-none",s<o),r.classList.toggle("d-none",s>=o)}}async function x(s,o){q();const a=(await o.json()).json;let r;const c=e(s,".js-repo-access-group");r="collaborators"===c.id?c.querySelector(".js-repo-access-list-invites"):c.querySelector(".js-repo-access-list");const i=s.querySelector(".js-add-repo-access-field");if(i instanceof HTMLInputElement){const t=i.value;i.value="","teams"===c.id&&function(t){const s=document.querySelector(".js-repo-access-team-select");if(s){let o=0;for(const e of n(s,".js-repo-access-team-select-option"))t===e.getAttribute("data-team-id")&&(e.hidden=!0),e.hidden||o++;0===o&&e(s,".js-repo-access-group").classList.add("no-form")}}(t)}if(a.error)return a.error.requires_license?void m({content:f(document,a.html)}):void S(a.error,c);if(function(){const e=document.getElementById("collaborators");e&&(t(e,".js-add-new-collab",HTMLButtonElement).disabled=!0)}(),function(){const e=document.querySelector("#teams .js-add-new-collab");e instanceof HTMLButtonElement&&(e.disabled=!0)}(),I(),r){r.insertAdjacentHTML("beforeend",a.html);const e=n(r,".js-repo-access-entry");t(e[e.length-1],"a").focus()}if(A(c),a.seats||0===a.seats){const e=1===a.seats?"seat":"seats",t=document.getElementById("available-seats");t&&(t.innerHTML=`${a.seats} ${e}`)}}v("details-menu-selected",".js-actions-runner-platform-menu",(function(o){if(!(o instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/settings/add-runner-input.js:11");const a=o.detail.relatedTarget;if(!(a instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/settings/add-runner-input.js:14");const r=e(a,".js-actions-runner-instructions"),c=t(r,".js-actions-runner-architecture-menu"),i=s(a,"data-download-os"),l=s(c,"data-default-architecture");for(const e of n(c,"[data-download-os]")){const t=s(e,"data-download-os");e.hidden=t!==i,t===i&&s(e,"data-download-architecture")===l&&e.click()}t(r,".js-actions-runner-windows-instructions").hidden="win"!==i,t(r,".js-actions-runner-unix-instructions").hidden="win"===i,E("os",i)}),{capture:!0}),v("details-menu-selected",".js-actions-runner-architecture-menu",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/settings/add-runner-input.js:42");const o=t.detail.relatedTarget;if(!(o instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/settings/add-runner-input.js:45");const a=e(o,".js-actions-runner-instructions"),r=s(o,"data-download-url"),c=s(o,"data-download-filename");for(const e of n(a,".js-action-runner-url"))e.textContent=r;for(const e of n(a,".js-action-runner-filename"))e.textContent=c;E("arch",s(o,"data-download-architecture"))}),{capture:!0}),k(".js-email-global-unsubscribe-form",(function(e){t(e,".js-email-global-unsubscribe-submit",HTMLInputElement).disabled=!0})),v("change",".js-email-global-unsubscribe-form",(function(e){const s=e.currentTarget,o=t(s,".js-email-global-unsubscribe-submit",HTMLInputElement),a=n(s,".js-email-global-unsubscribe",HTMLInputElement),r=Array.from(a).some(e=>e.checked!==e.defaultChecked);o.disabled=!r})),r(".js-email-unsubscribe-form",(async function(e,t){await t.text();for(const s of document.querySelectorAll(".js-email-unsubscribe-message"))s instanceof HTMLElement&&(s.hidden=!s.hidden)})),c(".js-key-link-input",T((async function(e){const s=e.target.form,o=n(s,".js-key-link-input",HTMLInputElement),a=new FormData;for(const t of o)a.append(t.name,t.value);const r=t(s,".js-key-link-check",HTMLElement),c=function(e){const t=e.getAttribute("src");if(!t)return"";const s=document.createElement("a");return s.href=t,s.href}(r),d=t(r.parentElement,".js-key-link-check-csrf",HTMLInputElement);try{const e=await i(l(c,d.value,{method:"POST",body:a}));r.innerHTML=e,r.hidden=!1}catch(u){r.hidden=!0}}),300)),r(".js-setting-toggle",(async function(e,s){const n=t(e,".js-status-indicator");M(n,"status-indicator-loading");try{await s.text(),M(n,"status-indicator-success")}catch(o){M(n,"status-indicator-failed")}})),v("change",".js-toggle-email-settings input",(function(){const e=t(document,".js-notification-emails"),s=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!s)})),v("change",".js-toggle-ci-failures-only-setting input",(function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),s=t(document,".js-ci-failures-only-settings input",HTMLInputElement),n=s.closest("label");n&&n.classList.toggle("text-gray-light",!e),e||(s.checked=!1),s.disabled=!e})),r(".js-revoke-access-form",(async function(e,n){await n.html();const o=s(e,"data-id"),a=s(e,"data-type-name"),r=t(document,`.js-revoke-item[data-type='${a}'][data-id='${o}']`);r.remove(),r.classList.contains("new-token")&&t(document,".js-flash-new-token").remove()})),v("click",".js-delete-oauth-application-image",(function(){const e=t(document,".js-delete-oauth-application-image-form",HTMLFormElement);d(e)})),v("click",".js-new-callback",(function(s){s.preventDefault();const n=s.currentTarget,o=e(n,".js-callback-urls"),a=t(o,".js-callback-url").cloneNode(!0);a instanceof HTMLElement&&(a.classList.remove("is-default-callback"),t(a,"input",HTMLInputElement).value="",o.classList.add("has-many"),n.parentNode.insertBefore(a,n))})),v("click",".js-delete-callback",(function(t){t.preventDefault();const s=t.currentTarget;e(s,".js-callback-url").remove();const o=e(s,".js-callback-urls");n(o,".js-callback-url",HTMLElement).length<=1&&o.classList.remove("has-many")})),v("click",".js-oauth-application-whitelist .js-deny-this-request",(function(t){const s=t.currentTarget;s.nextElementSibling.value="denied",d(e(s,".js-org-application-access-form",HTMLFormElement))})),v("click",".js-generate-integration-key",(function(){const e=t(document,".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout((function(){const e=t(document,".js-integration-keys-container",HTMLElement);e&&H(e)}),1e3))})),r(".js-remove-integration-key",(async function(n,o){try{await o.text()}catch(c){if(!c.response)throw c;e(n,"details").removeAttribute("open");const s=t(document,".js-integration-key-management-wrapper"),o=t(s,".js-error-container"),a=t(o,".js-error-message");switch(c.response.status){case 500:a.textContent="Oops, something went wrong.";break;case 404:a.textContent="Oops, that key could not be found.";break;default:a.textContent=c.response.json.message}return void s.classList.add("error")}const a=s(n,"data-key-id"),r=document.getElementById(a);if(r){const t=e(r,".js-integration-keys-container",HTMLElement);t&&H(t)}})),v("click",".js-error-dismiss",(function(){const e=t(document,".js-integration-keys-container",HTMLElement);e&&H(e)})),v("change",".js-checkbox-scope",(function(t){const s=t.currentTarget,o=e(s,".js-check-scope-container"),a=n(o,".js-checkbox-scope",HTMLInputElement);for(const e of a)e!==s&&(e.checked=s.checked,e.disabled=s.checked)})),v("change","[data-check-related-scopes]",(function(e){const t=e.currentTarget,o=s(t,"data-check-related-scopes").split(" ");for(const s of o){const e=n(document,`[data-scope-for="${s}"] .js-checkbox-scope`,HTMLInputElement);for(const n of e)n.checked=t.checked,n.value!==s&&(n.disabled=t.checked)}}));const I=()=>{const e=document.querySelector(".js-repo-filled-seats"),t=document.querySelector(".js-repo-access-progress");if(!(e&&t instanceof HTMLElement))return;const s=e.getAttribute("data-filled-seats"),n=e.getAttribute("data-seats");if(!s||!n)return;const o=parseInt(s)+1,a=parseFloat(n);e.textContent=o.toString(),e.setAttribute("data-filled-seats",o.toString()),t.style.width=`${o/a*100}%`};function C(e){for(const t of e)t.hidden=!t.hidden}function $(t){for(const s of t){s.disabled=!1,e(s,".js-role-checkbox").classList.remove("text-gray-light")}}function _(e,t){e instanceof HTMLElement&&(e.hidden=t)}function B(e){const s=t(e,".js-authorized-pushers");if(!s.getAttribute("data-limit"))return;const n=parseInt(s.getAttribute("data-limit")||""),o=s.querySelectorAll(".js-authorized-user-or-team").length;s.classList.toggle("at-limit",o>=n)}async function P(e){const n=s(e,"data-actions-list-runners-url"),o=t(document,"#js-actions-runners-list");try{const e=await u(document,n);o.innerHTML="",o.append(e)}catch(a){window.location.reload()}}v("details-menu-selected",".js-repo-access-team-select-menu",(function(s){if(!(s instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/settings/repository-collabs.js:198");const n=s.detail.relatedTarget,o=n.getAttribute("data-team-id")||"",a=t(e(n,".js-repo-access-group"),".js-add-repo-access-field",HTMLInputElement);if(a.value=o,!a.form)throw new Error("invariant: app/assets/modules/github/settings/repository-collabs.js:203");d(a.form)}),{capture:!0}),r(".js-add-repo-access-form-with-license",(async function(e,t){const s=document.querySelector('.js-add-repo-access-form[data-for="collaborators"]');s&&x(s,t)})),r(".js-add-repo-access-form",x),r(".js-remove-repo-access-form",(async function(t,s){if(t.hasAttribute("data-skip-remote"))return;try{await s.text()}catch(a){return void S(t.getAttribute("data-error-message")||"",e(t,".js-repo-access-group"))}q();const n=e(t,".js-repo-access-entry"),o=e(t,".js-repo-access-group");"teams"===o.id&&function(t){const s=document.querySelector(".js-repo-access-team-select");if(s){const n=s.querySelector(`[data-team-id='${t}']`);n instanceof HTMLElement&&(n.hidden=!1),e(s,".js-repo-access-group").classList.remove("no-form")}}(n.getAttribute("data-team-id")||""),n.remove(),A(o)})),v("combobox-commit",".js-repo-add-access-search",(function(s){if(!(s.target instanceof Element))return;const o=e(s.target,".js-repo-add-access-search"),a=e(s.target,".js-autocomplete-item");t(o,".js-selected-member-id").textContent=s.target.getAttribute("data-autocomplete-label")||"selection";const r=t(o,".js-selected-member-badge"),c=t(a,".js-selection-badge");r.innerHTML=c.innerHTML,C(n(o,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection"));const i=o.querySelector(".js-base-role-badge");_(i,!0);const l=a.getAttribute("data-type"),d=a.hasAttribute("data-admin"),u=n(o,d?"[data-disable-org-admin]":"[data-disable-org-role]",HTMLInputElement),m=n(o,'input[name="role"]',HTMLInputElement);if(m.length>0){if($(m),"org-member"===l){_(i,!1);for(const t of u){t.disabled=!0,e(t,".js-role-checkbox").classList.add("text-gray-light")}}if(d)t(o,".js-role-admin",HTMLInputElement).checked=!0;else if(i&&"org-member"===l){t(e(i,".js-role-checkbox"),'input[name="role"]',HTMLInputElement).checked=!0}else"outside-collab"!==l&&"team"!==l&&"org-member"!==l||(t(o,".js-role-pull",HTMLInputElement).checked=!0)}})),v("click",".js-cancel-selection",(function(s){if(!(s.target instanceof Element))return;const o=e(s.target,".js-repo-add-access-search");t(o,".js-repo-add-access-search-input",HTMLInputElement).value="",$(n(o,'input[name="role"]',HTMLInputElement)),C(n(o,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")),_(o.querySelector(".js-base-role-badge"),!0)})),v("details-dialog-close",".js-add-access-form",(function({currentTarget:e}){const s=t(e,".js-repo-add-access-search-input",HTMLInputElement);s.value="",$(n(s,'input[name="role"]',HTMLInputElement));const o=t(e,".js-repo-add-access-search-selection"),a=t(e,".js-repo-add-access-search-selected");a.hidden||(C([a,o]),_(s.querySelector(".js-base-role-badge"),!0))})),v("change","input.js-repo-data-opt-in",(function({currentTarget:t}){const s=t,n=e(s,".js-repo-data-services"),o=s.checked;for(const e of n.querySelectorAll(".js-repo-data-options"))e.classList.toggle("active",o);for(const e of n.querySelectorAll(".js-repo-data-option"))e.toggleAttribute("disabled",!o),o&&e.removeAttribute("checked")})),v("change",".js-repo-features-form input[type=checkbox]",(function({currentTarget:s}){const n=e(s,".js-repo-option"),o=t(n,".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),v("click",".js-used-by-selector-button",(function({currentTarget:s}){const n=e(s,".js-used-by-selector"),o=t(n,".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),r(".js-repo-features-form",(async function(s,o){let a;try{a=await o.html()}catch(r){for(const o of n(s,".status-indicator-loading")){o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-failed");const s=e(o,".js-repo-option"),n=t(s,"input[type=checkbox]",HTMLInputElement);n.checked=!n.checked}return}for(const e of n(s,".status-indicator-loading"))e.classList.remove("status-indicator-loading"),e.classList.add("status-indicator-success");t(document,".js-repo-nav").replaceWith(a.html)})),v("change",".js-repo-pages-visibility-form",(function({currentTarget:e}){const s=t(e,".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")})),r(".js-repo-pages-visibility-form",(async function(e,s){const n=t(e,".js-status-indicator");let o;try{o=await s.html()}catch(a){return n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-failed"),void e.reset()}n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-success"),t(document,".js-repo-nav").replaceWith(o.html)})),v("change",".js-merge-features-form input[type=checkbox]",(function({currentTarget:s}){const n=s.form;for(const e of n.querySelectorAll(".errored"))e.classList.remove("errored");const o=e(s,".js-repo-option"),a=t(o,".js-status-indicator");a.classList.remove("status-indicator-success","status-indicator-failed"),a.classList.add("status-indicator-loading")})),r(".js-merge-features-form",(async function(s,n){try{await n.text()}catch(o){const n=o.response&&o.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const e of s.querySelectorAll(n))e instanceof HTMLElement&&(e.hidden=!1);for(const a of s.querySelectorAll(".status-indicator-loading")){a.classList.remove("status-indicator-loading"),a.classList.add("status-indicator-failed");const s=e(a,".js-repo-option");s.classList.add("errored");const n=t(s,"input[type=checkbox]",HTMLInputElement);n.checked=!n.checked}for(const e of s.querySelectorAll(".status-indicator-success"))e.classList.remove("status-indicator-success");return}for(const e of s.querySelectorAll(".errored"))e.classList.remove("errored");for(const e of s.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))e instanceof HTMLElement&&(e.hidden=!0);for(const e of s.querySelectorAll(".status-indicator-loading"))e.classList.remove("status-indicator-loading"),e.classList.add("status-indicator-success")})),v("change","input.js-required-status-toggle",(function({currentTarget:s}){const n=e(s,".js-protected-branch-settings");t(n,".js-required-statuses").classList.toggle("d-none",!s.checked)})),v("change","input.js-required-status-checkbox",(function({currentTarget:s}){const n=e(s,".js-protected-branches-item");t(n,".js-required-status-badge").classList.toggle("d-none",!s.checked)})),v("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",(function({currentTarget:s}){const n=e(s,".js-protected-branch-options"),o=t(n,".js-authorized-pushers");o.classList.toggle("d-none",!s.checked),t(o,".js-add-protected-branch-user-or-team input",HTMLInputElement).focus()})),v("change",".js-protected-branch-include-admin-toggle",(function({currentTarget:t}){const s=e(t,".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const e of s)e.classList.toggle("d-none"),e.classList.toggle("active",!e.classList.contains("d-none"))})),v("auto-complete-change",".js-add-protected-branch-user-or-team",(async function({target:n}){const o=n,a=o.value;if(!a)return;o.value="";const r=e(o,".js-protected-branch-options"),c=t(r,".js-authorized-users-and-teams"),i=c.querySelector(`div[data-user-or-team-name='${a}']`);if(i)return void t(i,".js-protected-branch-pusher").classList.add("user-already-added");const l=s(o,"data-add-url"),d=new URL(l,window.location.origin),m=new URLSearchParams(d.search.slice(1));m.append("item",a),d.search=m.toString(),c.append(await u(document,d.toString())),B(r)})),v("click",".js-remove-authorized-user-or-team",(function({currentTarget:t}){const s=e(t,".js-protected-branch-options");e(t,".js-authorized-user-or-team").remove(),B(s)})),k("#pages-cname-field",{constructor:HTMLInputElement,add(e){g(e,(function(){t(document,".js-pages-cname-save-btn",HTMLButtonElement).disabled=e.value===e.defaultValue}))}}),k(".js-pages-https-status-form",{constructor:HTMLFormElement,add(e){const t=new Request(e.action,{method:e.method,body:new FormData(e)});(async()=>{try{const s=await u(document,t);e.replaceWith(s)}catch(s){if(!s.response||404!==s.response.status)throw s}})()}}),v("change",".js-repo-actions-settings input[type=radio]",(function({currentTarget:s}){const n=s.form;for(const e of n.querySelectorAll(".js-actions-status-indicator"))e.classList.remove("status-indicator-success","status-indicator-failed","status-indicator-loading");const o=e(s,".js-actions-option"),a=t(o,".js-actions-status-indicator");a.classList.remove("status-indicator-success","status-indicator-failed"),a.classList.add("status-indicator-loading")})),v("details-dialog-close",".js-repo-actions-add-runner-dialog",(function({currentTarget:e}){P(e)})),v("details-dialog-close",".js-repo-actions-delete-runner-dialog",(function({currentTarget:e}){P(e)})),v("details-menu-selected",".js-repo-actions-runners-choose-architecture-menu",(function(t){const o=t.detail.relatedTarget,a=e(o,".js-action-runner-tabpanel"),r=s(o,"data-download-url"),c=s(o,"data-download-filename");for(const e of n(a,".js-action-runner-url"))e.textContent=r;for(const e of n(a,".js-action-runner-filename"))e.textContent=c}),{capture:!0}),r(".js-repo-restore",(async function(s,n){let o;const a=e(s,".js-deleted-repository");try{o=await n.html()}catch(r){throw r}o&&function(e,s){const n=t(e,".js-restore-status");n.innerHTML="",n.append(s.html)}(a,o)})),k(".js-restore-repo-job",(function(s){!function(e){t(e,"form>button",HTMLButtonElement).disabled=!0,t(e,"summary").classList.add("disabled");for(const t of e.querySelectorAll("details"))t.removeAttribute("open")}(e(s,".js-deleted-repository"))})),v("click",".js-disableable-summary.disabled",e=>e.preventDefault());function D(){return t(document,".js-add-u2f-registration-form",HTMLFormElement)}v("click",".js-repo-toggle-team",(async function(){const e=(e=>{const t=new URLSearchParams(window.location.search),s=new Set(t.getAll("team_ids[]")),o=n(document,e,HTMLInputElement);for(const n of o)n.checked?s.add(n.value):s.delete(n.value);return[...s]})(".js-repo-toggle-team");for(const t of n(document,".js-repo-team-suggestions-pagination > a",HTMLAnchorElement)){const n=s(t,"href");if(n){const s=new URL(n,window.location.origin),o=new URLSearchParams(s.search.slice(1));o.delete("team_ids[]");for(const t of e)o.append("team_ids[]",t);s.search=o.toString(),t.setAttribute("href",s.toString())}}t(document,'[name="team_ids"]',HTMLInputElement).value=e.join(",")})),c(".js-synced-repo-owner-input",(function(e){const t=e.target,s=t.getAttribute("data-sync");if(!s)return;const n=document.querySelectorAll(`[data-sync-with="${s}"]`);for(const o of n)o.textContent=t.value})),r(".js-saved-reply-delete",(async function(e,t){await t.text();const s=e.closest(".js-saved-reply-container"),n=s.querySelectorAll(".js-saved-reply-list-item").length;s.classList.toggle("has-replies",n>1),e.closest(".js-saved-reply-list-item").remove()}));function F(e){e.webauthn_register_request&&D().setAttribute("data-webauthn-register-request",JSON.stringify(e.webauthn_register_request))}function z(e,s){const n=t(document,".js-new-u2f-registration");n.classList.add("is-showing-error"),n.classList.remove("is-sending");for(const t of n.querySelectorAll(".js-u2f-message"))t.hidden=!0;const o=t(n,e);s&&(o.textContent=s),o.hidden=!1}async function R(e){if(!(await h("high")))throw new Error("sudo failed");const s=t(document,".js-add-u2f-registration-form",HTMLFormElement);b(s,"response").value=JSON.stringify(e);try{const e=await y(s.action,{method:s.method,body:new FormData(s),headers:{accept:"application/json"}}),n=await e.json();F(n),t(document,".js-new-u2f-registration").classList.remove("is-sending","is-active"),t(document,".js-u2f-registration-nickname-field",HTMLInputElement).value="";const o=n.registration;o&&t(document,".js-u2f-registrations").append(f(document,o))}catch(n){if(n.response){const e=await n.response.json();F(e),z(".js-u2f-server-error",e.error)}else z(".js-u2f-network-error")}}async function O(){try{!function(){const e=t(document,".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}();const e=JSON.parse(s(D(),"data-webauthn-register-request")),n=await j(e);await R(n)}catch(e){!function(e,t){z(t),L.report(e)}(new Error(e),".js-webauthn-registration-error")}}function U(){O()}function N(e,s){t(e,".js-add-new-blocked-user",HTMLButtonElement).disabled=!s}r(".js-u2f-registration-delete",(async function(t,s){const n=e(t,".js-u2f-registration");n.classList.add("is-sending"),F((await s.json()).json),n.remove()})),v("click",".js-add-u2f-registration-link",(function(){const e=t(document,".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),t(document,".js-u2f-registration-nickname-field",HTMLInputElement).focus()})),v("click",".js-u2f-register-retry",(function(){U()})),v("submit",".js-add-u2f-registration-form",(function(e){e.preventDefault(),U()})),k(".js-u2f-box",(function(e){e.classList.toggle("available",p())})),k(".js-block-users-form",(function(e){N(e,!1)})),r(".js-block-users-form",(async function(e,s){const n=await s.html(),o=t(document,".js-user-block-settings-list"),a=t(o,".js-blocked-list"),r=t(o,".js-user-block-blank-slate");N(e,!1);const c=t(e,".js-add-blocked-user-field",HTMLInputElement);w(c,""),r.hidden=!0,a.hidden=!1,a.prepend(n.html)})),v("auto-complete-change",".js-add-blocked-user-completer",(function({target:t}){const s=t;N(e(s,".js-block-users-form"),!!s.value)})),r(".js-user-sessions-revoke",(async function(t,s){await s.text();const n=e(t,".js-user-sessions-container");if(e(t,".js-user-session").remove(),n){const e=n.querySelectorAll(".js-user-session").length;n.classList.toggle("has-active-sessions",e>0)}})),r(".js-verify-ssh-key",(async function(s,n){await n.html();const o=e(s,"li");t(o,".js-unverified-user-key-notice").remove(),t(o,".js-user-key-icon").classList.remove("unverified-user-key"),s.remove()})),r(".js-leave-collaborated-repo",(async function(e,n){await n.html();const o=s(e,"data-repo-id"),a=s(e,"data-owner-id");t(document,`.js-collab-repo[data-repo-id='${o}']`).remove(),document.querySelector(".js-collab-repo")||(t(document,".js-collaborated-repos-empty").hidden=!1,t(document,".js-collaborated-repos").hidden=!0);const r=document.querySelector(`.js-collab-repo-owner[data-owner-id='${a}']`);r&&(r.querySelector(".js-collab-repo")||r.remove())})),v("change",".js-notification-restrictions-confirmation-needed",(function({currentTarget:e}){const s=e;t(document,".js-notification-restrictions-confirm-modal").classList.toggle("d-none",!s.checked),t(document,".js-notification-restrictions-save").classList.toggle("d-none",s.checked)}))}}}));
//# sourceMappingURL=settings-bootstrap-da1c682c.js.map
